$.fn.extend({dragging:function(t){function e(){n.each(function(){var t=parseInt(Math.random()*(b-l)),e=parseInt(Math.random()*(f-m));switch(i){case"x":$(this).css({left:e});break;case"y":$(this).css({top:t});break;case"both":$(this).css({top:t,left:e});break;default:alert("move配置错误,正确值有（x, y, both）")}})}var s,o,n=$(this),r=n.parent(),a={move:"both",randomPosition:!0,hander:1},c=$.extend({},a,t),i=c.move.toLowerCase(),d=c.randomPosition,h=c.hander;h=1===h?n:n.find(c.hander),r.css({position:"relative",overflow:"hidden"}),n.css({position:"absolute"}),h.css({cursor:"move"});var p,u,f=parseInt(r.outerWidth()),b=parseInt(r.outerHeight()),m=parseInt(n.outerWidth()),l=parseInt(n.outerHeight()),v=parseInt(r.css("border-Left-width")),I=parseInt(r.css("border-right-width")),g=parseInt(r.css("border-top-width")),w=parseInt(r.css("border-bottom-width")),x=!1;d&&e(),h.on("mousedown",function(t){return r.children().css({zIndex:"0"}),n.css({zIndex:"1"}),x=!0,s=t.pageX,o=t.pageY,p=n.position().left,u=n.position().top,!1}),$(document).on("mouseup",function(t){x=!1}),$(document).on("mousemove",function(t){function e(){k<0&&n.css({left:"0"}),k>f-m-v-I&&n.css({left:f-m-v-I})}function r(){y<0&&n.css({top:"0"}),y>b-l-g-w&&n.css({top:b-l-g-w})}function a(){1==x&&(n.css({left:k}),e())}function c(){x===!0&&(n.css({top:y}),r())}function d(){x===!0&&(n.css({left:k,top:y}),e(),r())}var h=t.pageX,$=t.pageY,k=p+(h-s),y=u+($-o);switch(i){case"x":a();break;case"y":c();break;case"both":d();break;default:alert("move配置错误,正确值有（x, y, both）")}})}});