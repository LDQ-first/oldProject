var fir=function(){function e(){new t}function t(){this.init()}return t.prototype={init:function(){var e=this;this.startScroll=!0,this.arr=['A  Fir.im  Com\n{\n    return  "ldq"\n}'],this.firShowArr=["i'm fir","fir.im"],this.startTime=0,this.endTime=0,this.pageCount=0,this.allPage=5,$("#betaAppHost").attr({caret:!0});var t=1200,a=0,n=setInterval(function(){a+=t/100,$(".num").text(Math.ceil(a/t*100)+"%"),100===parseInt($(".num").text())&&(clearInterval(n),$("#loadingCover").find("img").hide(),e.loading(),e.createtext())},t/100);this.addScroll(),this.clickPoint(),this.clickThumbsup(),this.clickNext(),$.showHideMenu()},loading:function(){var e=$(window).width()+200,t=$(window).height()+200,a=$("#loadingCover").find(".circle"),n=$("#plane"),o=a.width(),r=a.height(),s=null;clearInterval(s);var i=this;s=setInterval(function(){a.css({width:o+=20,height:r+=20,marginTop:-(o/2),marginLeft:-(r/2)}),o>e&&r>t&&(clearInterval(s),$("#loadingCover").fadeOut(),n.addClass("fly-in"),i.startScroll=!1,setTimeout(function(){n.removeClass("fly-in")},2500))},16)},createtext:function(e,t,a,n){function o(){return clearInterval(u.cartTimer),a.attr("caret")===$("#betaAppHost").attr("caret")?u.cartTimer=setInterval(s,160):u.cartTimer=setInterval(i,160),f<t.length?(console.log(f),void(p<t[f].length?(m+=t[f][p],r(),u.textTimer=setTimeout(o,d),p++):($(a).find("pre").text(m.slice(0,m.length)),clearInterval(u.textTimer),clearInterval(u.cartTimer),f++,f<t.length?c():u.textTimer=setTimeout(o,0)))):(clearInterval(u.textTimer),clearInterval(u.cartTimer),$(".cursor").css({opacity:0}),void(n&&n.resolve()))}function r(){$(a).find("pre").text(m)}function s(){var e=$(a).find("pre").text();$(a).find("pre").text(e+h)}function i(){"0"===$(".cursor").css("opacity")?$(".cursor").css({opacity:1}):"1"===$(".cursor").css("opacity")&&$(".cursor").css({opacity:0})}function c(){var e=$.Deferred(),t=function(e){return u.mulitCodeTimer=setTimeout(function(){l(e)},500),e};$.when(t(e)).done(function(){u.textTimer=setTimeout(o,500)}).fail(function(){console.log("失败了")})}function l(e){clearInterval(u.cartTimer),a.attr("caret")===$("#betaAppHost").attr("caret")?u.cartTimer=setInterval(s,160):u.cartTimer=setInterval(i,160),p>=0?(m=m.slice(0,p),r(),u.textTimer=setTimeout(function(){l(e)},d),p--):(m="",p=0,e.resolve())}clearInterval(this.textTimer);var u=this,e=e||2e3,d=200,m="",h="|",t=t||this.arr,a=a||$("#betaAppHost"),p=0,f=0;console.log(t);var v=$("<pre>");if(v.css({fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit"}),a.append(v),a.attr("caret")!=$("#betaAppHost").attr("caret")){var g=$('<span class="cursor"></span>');a.append(g);var C=setInterval(i,160);setTimeout(function(){clearInterval(C)},e)}this.textTimer=setTimeout(o,e)},addScroll:function(){var e=this;console.log(e),$(document).on("mousewheel DOMMouseScroll",function(t){if(t.preventDefault(),!e.startScroll){e.startTime=(new Date).getTime();var a=t.originalEvent.wheelDelta||-t.originalEvent.detail;if(!(e.endTime-e.startTime<=-1e3))return;if(a<0){if(e.pageCount++,e.pageCount>e.allPage)return void(e.pageCount=e.allPage);e.changeNext(),e.goPageDown(e.pageCount),e.currentPoint(e.pageCount)}else{if(e.pageCount--,e.pageCount<0)return void(e.pageCount=0);e.changeNext(),e.goPageUp(e.pageCount),e.currentPoint(e.pageCount)}e.endTime=(new Date).getTime()}})},goPageDown:function(e){var t=this;switch(e){case 1:console.log(1),clearInterval(t.textTimer),clearInterval(t.cartTimer),$("#navbar").addClass("color-white"),$(".icon-menu").addClass("color-white"),$("#plane").addClass("fly-out"),$("#betaAppHost").hide(),setTimeout(function(){$("#flipRotate").addClass("flipRotate"),$("#next").addClass("color-white"),$(".section-2").css({zIndex:10})},1e3);break;case 2:console.log(2),$("#flipRotate").removeClass("featuresAnimOut").addClass("featuresAnimIn"),$(".section-2").css({zIndex:9});break;case 3:console.log(3),$("#flipRotate").addClass("filpOut"),$("#expanded").css("opacity",0),$(".section-3").addClass("animateIn");break;case 4:console.log(4),$(".section-3").removeClass("animateIn"),$(".section-4").addClass("reday"),this.usersWrapperHover(),this.renderbraceCcontent();break;case 5:console.log(5),$(".section-5").addClass("reday"),$("#navbar").removeClass("color-white"),$("#navbar").addClass("color-blue"),$("#next").removeClass("color-white"),$("#next").addClass("color-blue"),$(".icon-menu").removeClass("color-white"),$(".icon-menu").addClass("color-blue"),$("#firShow").html(""),$(".evaluate").removeClass("appear"),this.showThumbsup()}},showThumbsup:function(){var e=this,t=$.Deferred(),a=function(t){return e.thumbsupTimer=setTimeout(function(){e.createtext(1500,e.firShowArr,$("#firShow"),t)},800),t};$.when(a(t)).done(function(){$(".evaluate").addClass("appear")}).fail(function(){console.log("失败了")})},goPageUp:function(e){var t=this;switch(e){case 0:console.log(0),$("#betaAppHost").html(""),$("#navbar").removeClass("color-white"),$("#next").removeClass("color-white"),$(".icon-menu").removeClass("color-white"),$("#plane").removeClass("fly-out").addClass("fly-in"),$("#flipRotate").removeClass("flipRotate"),setTimeout(function(){$("#betaAppHost").show(),$("#plane").removeClass("fly-in"),t.createtext(30)},1500),$(".section-2").css({zIndex:9});break;case 1:console.log(1),$("#flipRotate").removeClass("featuresAnimIn").addClass("featuresAnimOut");break;case 2:console.log(2),$("#flipRotate").removeClass("filpOut"),setTimeout(function(){$("#expanded").css("opacity",1),$(".section-3").removeClass("animateIn")},800);break;case 3:console.log(3),$(".section-4").removeClass("reday"),$(".section-3").addClass("animateIn");break;case 4:console.log(4),$("#navbar").removeClass("color-blue"),$("#navbar").addClass("color-white"),$("#next").removeClass("color-blue"),$("#next").addClass("color-white"),$(".icon-menu").removeClass("color-blue"),$(".icon-menu").addClass("color-white"),$(".section-5").removeClass("reday"),$("#firShow").html(""),$(".evaluate").removeClass("appear"),clearInterval(t.textTimer),clearInterval(t.cartTimer),this.renderbraceCcontent()}},usersWrapperHover:function(){$("#users-wrapper").find(".item").on("mouseover",function(){return $(this).addClass("active").siblings().removeClass("active"),$(this).parents(".container").attr("class","container"),$(this).parents(".container").addClass($(this).data("item")),!1})},currentPoint:function(e){$(".point-ct").find(".point").each(function(t,a){$(a).removeClass("current");var n=$(a).attr("data-index");n==e&&$(a).addClass("current")})},clickPoint:function(){var e=this;$(".point-ct").on("click","li",function(){$(".point").removeClass("current"),$(this).addClass("current");var t=$(this).attr("data-index");e.changePage(t)})},changePage:function(e){var t=(this.pageCount,e-this.pageCount);if(t>0)for(;this.pageCount<e;)this.pageCount++,this.changeNext(),this.goPageDown(this.pageCount);else if(t<0)for(;this.pageCount>e;)this.pageCount--,this.changeNext(),this.goPageUp(this.pageCount)},changeNext:function(){return this.pageCount===this.allPage?void $("#next").css({transform:"rotateZ(180deg)"}):void $("#next").css({transform:"rotateZ(0deg)"})},clickNext:function(){var e=this;$("#next").on("click",function(){e.pageCount+1<=e.allPage?e.changePage(e.pageCount+1):e.pageCount-1>=0&&e.changePage(e.pageCount-1),e.currentPoint(e.pageCount)})},clickThumbsup:function(){$(".icon-thumbsup").on("click",function(){$(this).addClass("disappear"),$(".face").addClass("appear"),$(".icon-comma-eye.right").addClass("rotate"),setTimeout(function(){$(".icon-comma-eye.right").removeClass("rotate")},500),$(".icon-mouth").addClass("rotate"),setTimeout(function(){$(".icon-mouth").removeClass("rotate")},500),$(".thanks").animate({opacity:1},1200)})},renderbraceCcontent:function(){$(".icon-thumbsup").removeClass("disappear"),$(".face").removeClass("appear"),$(".thanks").css({opacity:0}),$(".evaluate").removeClass("appear")}},{start:e}}();fir.start();